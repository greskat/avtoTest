import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import org.openqa.selenium.*;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.firefox.FirefoxDriver;

import java.util.NoSuchElementException;
import java.util.concurrent.TimeUnit;

import static org.testng.Assert.fail;




    public class MailTestRu {
        private WebDriver driver;
        private String baseUrl;
        private boolean acceptNextAlert = true;
        private StringBuffer verificationErrors = new StringBuffer();

        @Before
        public void setUp() throws Exception {
            driver = new ChromeDriver();
            baseUrl = "https://mail.ru/";
            driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);
        }

        @Test
        public void testMail() throws Exception {
            driver.get(baseUrl + "/?from=logout&ref=main");
            driver.findElement(By.id("mailbox__login")).clear();
            driver.findElement(By.id("mailbox__login")).sendKeys("katerina.gres@bk.ru");
            driver.findElement(By.id("mailbox__password")).clear();
            driver.findElement(By.id("mailbox__password")).sendKeys("jhkjhd44");
            driver.findElement(By.id("mailbox__auth__button")).click();
            driver.findElement(By.cssSelector("span.b-toolbar__btn__text.b-toolbar__btn__text_pad")).click();
            driver.findElement(By.cssSelector("textarea.js-input.compose__labels__input")).clear();
            driver.findElement(By.cssSelector("textarea.js-input.compose__labels__input")).sendKeys("gres.katrrin@gmail.com");
            driver.findElement(By.cssSelector("div.b-correspondent__name")).click();
            driver.findElement(By.name("Subject")).clear();
            driver.findElement(By.name("Subject")).sendKeys("Test))9");
            driver.findElement(By.name("Subject")).sendKeys(Keys.TAB);
            //  driver.switchTo().frame();
            driver.switchTo().activeElement().sendKeys("Re RE)))");
            driver.findElement(By.id("tinymce")).clear();
            driver.findElement(By.id("tinymce")).sendKeys("Re RE)))");
            driver.findElement(By.xpath("//div[@id='b-toolbar__right']/div[3]/div/div[2]/div/div/span")).click();
            driver.findElement(By.cssSelector("a.b-nav__link.js-shortcut > span.b-nav__item__text")).click();
            driver.findElement(By.xpath("//div[@id='b-letters']/div/div[5]/div/div[2]/div/div/a/div[4]/div[3]/div[2]")).click();
        }

        @After
        public void tearDown() throws Exception {
            //      driver.quit();


        }
    }
